<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>рдорд╣рд╛рд░рд╛рдЬ рдЬрдирд░рд▓ рд╕реНрдЯреЛрд░</title>

  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }

    .logo-intro {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 20px;
    }

    .gallery img {
      width: 300px;
      margin: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    table {
      border-collapse: collapse;
      width: 80%;
      margin-top: 10px;
    }

    th, td {
      border: 1px solid #333;
      padding: 8px;
      text-align: left;
    }

    th { background-color: #f2f2f2; }

    .top-bar {
      display: flex;
      gap: 10px;
      align-items: center;
      margin: 15px 0;
    }

    #searchBox {
      padding: 8px;
      width: 220px;
    }

    .tab-btn {
      padding: 8px 14px;
      border: 1px solid #ccc;
      background: #f7f7f7;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }

    .tab-btn.active {
      background: #25d366;
      color: white;
      border-color: #25d366;
    }

    .qty-btn {
      padding: 4px 8px;
      border: 1px solid #ccc;
      background: #f7f7f7;
      border-radius: 4px;
      cursor: pointer;
    }

    .qty-box {
      padding: 0 8px;
      font-weight: bold;
    }

    .cart-box {
      border: 2px dashed #25d366;
      padding: 12px;
      width: 80%;
      margin-top: 10px;
    }

    .remove-btn {
      background: none;
      border: none;
      font-size: 16px;
      cursor: pointer;
      color: #555;
    }

    .remove-btn:hover { color: #000; }

    .whatsapp-btn {
      background-color: #25d366;
      color: white;
      padding: 10px 16px;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      display: inline-block;
    }
  </style>

  <script>
    let cart = [];

    async function loadProducts() {
      const csvUrl =
        "https://docs.google.com/spreadsheets/d/1gUnQPlyJVKctXsGA2gshdUGJf1tmtVqAJQ_W1W-2nC8/export?format=csv";

      const res = await fetch(csvUrl);
      const text = await res.text();
      const lines = text.split("\n");

      const tbody = document.getElementById("product-table-body");
      tbody.innerHTML = "";

      for (let i = 1; i < lines.length; i++) {
        let [name, price] = lines[i].split(",");
        if (!name) continue;

        name = name.trim();
        price = price.trim();

        tbody.innerHTML += `
          <tr>
            <td>${name}</td>
            <td>тВ╣ ${price}</td>
            <td>
              <button class="qty-btn" onclick="updateQty('${name}', ${price}, -1)">тИТ</button>
              <span class="qty-box" id="qty-${name}">0</span>
              <button class="qty-btn" onclick="updateQty('${name}', ${price}, 1)">+</button>
            </td>
          </tr>`;
      }
    }

    function updateQty(name, price, delta) {
      let item = cart.find(p => p.name === name);

      if (!item && delta > 0) {
        cart.push({ name, price, qty: 1 });
      } else if (item) {
        item.qty += delta;
        if (item.qty <= 0) {
          cart = cart.filter(p => p.name !== name);
        }
      }

      document.getElementById(`qty-${name}`).innerText =
        cart.find(p => p.name === name)?.qty || 0;

      renderCart();
    }

    function renderCart() {
      const box = document.getElementById("cart-items");
      let total = 0;
      box.innerHTML = "";

      cart.forEach((item, i) => {
        total += item.qty * item.price;
        box.innerHTML += `
          ${item.name} ├Ч ${item.qty} = тВ╣${item.qty * item.price}
          <button class="remove-btn" onclick="removeOne(${i})">тЬХ</button><br>`;
      });

      document.getElementById("cart-total").innerText = total;
    }

    function removeOne(i) {
      cart[i].qty--;
      if (cart[i].qty <= 0) cart.splice(i, 1);
      renderCart();
    }

    function placeOrder() {
      if (cart.length === 0) {
        alert("рдХреГрдкрдпрд╛ рдкрд╣рд▓реЗ рдкреНрд░реЛрдбрдХреНрдЯ рдЬреЛрдбрд╝реЗрдВ");
        return;
      }

      let msg = "рдирдорд╕реНрддреЗ, рдореБрдЭреЗ рдирд┐рдореНрди рд╕рд╛рдорд╛рди рдЪрд╛рд╣рд┐рдП:\n\n";
      let total = 0;

      cart.forEach(i => {
        msg += `${i.name} ├Ч ${i.qty} тАУ тВ╣${i.qty * i.price}\n`;
        total += i.qty * i.price;
      });

      msg += "\nрдХреБрд▓ рд░рд╛рд╢рд┐: тВ╣" + total;

      window.open(
        "https://wa.me/919807439655?text=" + encodeURIComponent(msg),
        "_blank"
      );
    }

    function filterProducts() {
      const q = document.getElementById("searchBox").value.toLowerCase();
      document.querySelectorAll("#product-table-body tr").forEach(row => {
        row.style.display = row.innerText.toLowerCase().includes(q) ? "" : "none";
      });
    }

    function showProducts() {
      document.getElementById("products-section").style.display = "block";
      document.getElementById("cart-section").style.display = "none";
    }

    function showCart() {
      document.getElementById("products-section").style.display = "none";
      document.getElementById("cart-section").style.display = "block";
    }
  </script>
</head>

<body onload="loadProducts(); showProducts();">

  <!-- LOGO & INTRO -->
  <div class="logo-intro">
    <img src="circle-cropped.png" width="180" height="180" />
    <div>
      <h1>рдорд╣рд╛рд░рд╛рдЬ рдЬрдирд░рд▓ рд╕реНрдЯреЛрд░</h1>
      <p><em>рдЬрд╣рд╛рдБ рд╣рд░ рдЧреНрд░рд╛рд╣рдХ рд╣рдорд╛рд░рд╛ рдкрд░рд┐рд╡рд╛рд░ рд╣реИред</em></p>
      <p>
        рдЬрд╣рд╛рдБ рдЧреБрдгрд╡рддреНрддрд╛ рдорд┐рд▓реЗ рд╕рд╕реНрддреЗ рджрд╛рдо рдореЗрдВ тАУ рдорд╣рд╛рд░рд╛рдЬ рдЬрдирд░рд▓ рд╕реНрдЯреЛрд░! рдорд╣рд╛рд░рд╛рдЬ рдЬрдирд░рд▓
        рд╕реНрдЯреЛрд░ рдЖрдкрдХреЗ рд╢рд╣рд░ рдХрд╛ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдХрд┐рд░рд╛рдирд╛ рдФрд░ рдкреВрдЬрд╛ рд╕рд╛рдордЧреНрд░реА рд╕реНрдЯреЛрд░ рд╣реИред
        рдпрд╣рд╛рдБ рдкрд░ рдЖрдкрдХреЛ рд╕рднреА рджреИрдирд┐рдХ рдЙрдкрдпреЛрдЧ рдХреА рд╡рд╕реНрддреБрдПрдБ, рдкреВрдЬрд╛ рд╕рд╛рдордЧреНрд░реА, рдорд╕рд╛рд▓реЗ,
        рддреЗрд▓, рдЖрдЯрд╛, рджрд╛рд▓реЗрдВ, рд╕реНрдиреИрдХреНрд╕ рдФрд░ рдШрд░реЗрд▓реВ рд╕рд╛рдорд╛рди рдПрдХ рд╣реА рдЬрдЧрд╣ рдЙрдЪрд┐рдд рджрд╛рдо рдореЗрдВ рдорд┐рд▓рддреЗ рд╣реИрдВред
      </p>
    </div>
  </div>

  <hr />

  <h3>ЁЯУН Store Address</h3>
  <p>
    Sangam Vihar Colony, Haveliya, Jhusi,<br />
    Prayagraj, Uttar Pradesh 211019
  </p>
  <a href="https://share.google/S43snEszKCxEfAIOi" target="_blank">
    View on Google Maps
  </a>

  <p>
    ЁЯЫТ тВ╣999 рдпрд╛ рдЙрд╕рд╕реЗ рдЕрдзрд┐рдХ рдХреЗ рдСрд░реНрдбрд░ рдкрд░ 100 рдореАрдЯрд░ рдХреА рджреВрд░реА рдореЗрдВ рдореБрдлреНрдд рдбрд┐рд▓реАрд╡рд░реАред<br>
    ЁЯЪЪ тВ╣999 рд╕реЗ рдХрдо рдХреЗ рдСрд░реНрдбрд░ рдкрд░ рдбрд┐рд▓реАрд╡рд░реА рдЪрд╛рд░реНрдЬ тВ╣50 рд▓рд╛рдЧреВред<br>
    тП░ рдбрд┐рд▓реАрд╡рд░реА рд╕рдордп: рджреЛрдкрд╣рд░ 1 рдмрдЬреЗ рд╕реЗ 3 рдмрдЬреЗ рдФрд░ рд░рд╛рдд 8 рдмрдЬреЗ рд╕реЗ 9 рдмрдЬреЗ рддрдХред
  </p>

  <!-- тЬЕ DIRECT WHATSAPP ORDER (ADDED BACK) -->
  <h3>ЁЯЫТ Order Now</h3>
  <a
    href="https://wa.me/919807439655"
    target="_blank"
    class="whatsapp-btn"
  >
    ЁЯУ▓ Order on WhatsApp
  </a>

  <hr />

  <h3>ЁЯУ╕ Store Photos</h3>
  <div class="gallery">
    <img src="k1.jpg" alt="Store Front" />
    <img src="k2.jpg" alt="Store Inside" />
  </div>

  <hr />

  <h3>ЁЯЫНя╕П Our Products & Prices</h3>

  <div class="top-bar">
    <input id="searchBox" placeholder="ЁЯФН Search product" onkeyup="filterProducts()" />
    <button class="tab-btn active" onclick="showProducts()">Products</button>
    <button class="tab-btn" onclick="showCart()">ЁЯЫТ Your Cart</button>
  </div>

  <div id="products-section">
    <table>
      <tr>
        <th>Product Name</th>
        <th>Price</th>
        <th>Add to Cart</th>
      </tr>
      <tbody id="product-table-body"></tbody>
    </table>
  </div>

  <div id="cart-section" style="display:none;">
    <div class="cart-box">
      <h3>Your Cart</h3>
      <div id="cart-items"></div>
      <p><strong>Total: тВ╣ <span id="cart-total">0</span></strong></p>
      <button class="whatsapp-btn" onclick="placeOrder()">Place Your Order</button>
    </div>
  </div>

  <hr />

  <h3>About Us</h3>
  <p>
    рд╣рдо рдЖрдкрдХреЗ рд▓рд┐рдП рддрд╛рдЬрд╝рд╛, рд╢реБрджреНрдз рдФрд░ рдХрд┐рдлрд╝рд╛рдпрддреА рдХрд┐рд░рд╛рдирд╛ рд╕рд╛рдорд╛рди рдЙрдкрд▓рдмреНрдз рдХрд░рд╛рддреЗ рд╣реИрдВред
    рдЧреБрдгрд╡рддреНрддрд╛, рднрд░реЛрд╕рд╛ рдФрд░ рддреЗрдЬрд╝ рд╕реЗрд╡рд╛ рд╣реА рд╣рдорд╛рд░реА рдкрд╣рдЪрд╛рди рд╣реИред
  </p>

</body>
</html>
